(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{548:function(t,s,a){"use strict";a.r(s);var n=a(60),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"快速开始"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速开始"}},[t._v("#")]),t._v(" 快速开始")]),t._v(" "),a("p",[t._v("本文将向您介绍如何使用 "),a("code",[t._v("BindingX")]),t._v(" 。如果您还不了解 "),a("code",[t._v("BindingX")]),t._v(" 的工作原理，强烈建议先阅读文档 "),a("code",[t._v("《简介》")]),t._v(" 以及 "),a("code",[t._v("《核心概念》")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"前置条件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前置条件"}},[t._v("#")]),t._v(" 前置条件")]),t._v(" "),a("ul",[a("li",[t._v("学习如何使用 weex 或者 ReactNative 搭建页面;")]),t._v(" "),a("li",[t._v("在您的Android或者iOS工程中，添加 BindingX 组件依赖，并注册组件。")])]),t._v(" "),a("h3",{attrs:{id:"第一步-依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一步-依赖"}},[t._v("#")]),t._v(" 第一步:依赖")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("ul",[a("li",[t._v("从HBuilderX 2.3.4起，"),a("code",[t._v("uni-app")]),t._v(" 编译模式可直接引用 "),a("code",[t._v("uni.requireNativePlugin('bindingx')")]),t._v(" 模块，"),a("code",[t._v("weex")]),t._v(" 模式还需使用 "),a("code",[t._v("npm")]),t._v(" 方式引用")]),t._v(" "),a("li",[t._v("BindingX demo示例可参考 "),a("code",[t._v("BindingX")]),t._v(" 示例 里 "),a("code",[t._v("vue")]),t._v(" 的相关示例，将实验田里的 "),a("code",[t._v("vue")]),t._v(" 代码拷贝到 "),a("code",[t._v("nvue")]),t._v(" 文件里即可。")])])]),t._v(" "),a("ul",[a("li",[t._v("安装依赖")])]),t._v(" "),a("div",{staticClass:"language-npm extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("$ npm install weex-bindingx --save\n")])])]),a("ul",[a("li",[t._v("在JS代码中引入BindingX模块")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" BindingX from weex"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("bindingx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"第二步-编写表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二步-编写表达式"}},[t._v("#")]),t._v(" 第二步: 编写表达式")]),t._v(" "),a("ol",[a("li",[t._v("根据业务场景，选择您需要的EventType。 比如，要监听手势，evenType值为pan，监听滚动容器scrollOffset变化，eventType值为scroll。")]),t._v(" "),a("li",[t._v("根据交互行为，选择要改变的属性，并编写相应的表达式。比如，交互行为是”用户横滑100单位，透明度从1变化到0″。则属性为”opacity”，表达式为”1-x/100″。")])]),t._v(" "),a("h3",{attrs:{id:"第三步-绑定表达式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第三步-绑定表达式"}},[t._v("#")]),t._v(" 第三步: 绑定表达式")]),t._v(" "),a("p",[t._v("根据第二步得到的eventType、Expression以及Property，调用 "),a("code",[t._v("BindingX")]),t._v(" 模块的 "),a("code",[t._v("bind")]),t._v(" 方法，完成绑定。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("BindingX")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n eventType"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pan'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 事件类型\n anchor"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" anchor指的是事件的触发者，如果是eventType是"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"orientation"')]),t._v("或"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"timing"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("则不用填\n props"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t element"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" view"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 要改变的视图的引用或者id\n\t\t expression"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1-x/100"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 表达式\n\t\t property"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"opacity"')]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" 要改变的属性\n\t "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("当调用bind方法之后，Native会启动监听，当目标事件(比如手指滑动、设备方向变化等)发生的时候，便会执行您先前绑定的一组或者多组表达式。 "),a("code",[t._v("bind")]),t._v(" 方法会返回一个JS对象，其中包含了一个 "),a("code",[t._v("token")]),t._v(" 属性，可以使用这个token取消绑定。")]),t._v(" "),a("h3",{attrs:{id:"第四步-取消绑定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第四步-取消绑定"}},[t._v("#")]),t._v(" 第四步: 取消绑定")]),t._v(" "),a("p",[t._v("在合适的时机调用 "),a("code",[t._v("BindingX")]),t._v(" 的unbind方法取消绑定。比如，页面不可见或者即将销毁的时候。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("BindingX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unbind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    token"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    eventType"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pan'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("到这里，您已经学会基本的API使用了，更多内容可以参考其他教程。")])])}),[],!1,null,null,null);s.default=e.exports}}]);